# è‡ªåŠ¨åŒ–èµ„æ–™å½’ç±» - å¿«é€Ÿå‚è€ƒæŒ‡å—

## ğŸ“‹ ä¸€å¥è¯æ€»ç»“

**è‡ªåŠ¨åŒ–èµ„æ–™å½’ç±»åŠŸèƒ½é€šè¿‡ NLP å’Œæœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œåœ¨æ•™å¸ˆä¸Šä¼ èµ„æ–™æ—¶è‡ªåŠ¨è¿›è¡Œæ–‡æ¡£è§£æã€å…³é”®è¯æå–ã€åˆ†ç±»é¢„æµ‹å’Œæ ‡ç­¾æ¨èï¼Œæ˜¾è‘—æå‡èµ„æ–™ç®¡ç†æ•ˆç‡ã€‚**

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½           | è¯´æ˜                           | ä½ç½® |
| -------------- | ------------------------------ | ---- |
| ğŸ“„ æ–‡æ¡£è§£æ    | æ”¯æŒ PDFã€Wordã€TXT ç­‰å¤šç§æ ¼å¼ | åç«¯ |
| ğŸ”‘ å…³é”®è¯æå–  | ä½¿ç”¨ Jieba åˆ†è¯å’Œ TF-IDF ç®—æ³•  | åç«¯ |
| ğŸ¤– åˆ†ç±»é¢„æµ‹    | åŸºäºæœ´ç´ è´å¶æ–¯çš„æ™ºèƒ½åˆ†ç±»       | åç«¯ |
| ğŸ·ï¸ æ ‡ç­¾æ¨è    | æ ¹æ®å…³é”®è¯æ¨èç›¸å…³æ ‡ç­¾         | åç«¯ |
| ğŸ’» åˆ†ç±»é¢æ¿    | å®æ—¶æ˜¾ç¤ºåˆ†ç±»å»ºè®®å’Œç½®ä¿¡åº¦       | å‰ç«¯ |
| ğŸ¨ æ ‡ç­¾æ¨è UI | æ™ºèƒ½æ ‡ç­¾æ¨èç»„ä»¶               | å‰ç«¯ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åç«¯å¯åŠ¨

```bash
cd backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡ŒæœåŠ¡
python run.py
```

### å‰ç«¯å¯åŠ¨

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

### è¿è¡Œæµ‹è¯•

```bash
cd backend

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/test_classification/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/test_classification/test_document_parser.py -v
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

### åç«¯

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ intelligence/              # æ™ºèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ document_parser.py      # æ–‡æ¡£è§£æ
â”‚   â”‚   â”œâ”€â”€ keyword_extractor.py    # å…³é”®è¯æå–
â”‚   â”‚   â”œâ”€â”€ category_classifier.py  # åˆ†ç±»é¢„æµ‹
â”‚   â”‚   â”œâ”€â”€ tag_recommender.py      # æ ‡ç­¾æ¨è
â”‚   â”‚   â””â”€â”€ stopwords.txt           # åœç”¨è¯è¡¨
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ classification_service.py  # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ material_api.py         # APIç«¯ç‚¹
â”‚   â””â”€â”€ schemas/
â”‚       â””â”€â”€ classification_schemas.py # æ•°æ®Schema
â””â”€â”€ tests/
    â””â”€â”€ test_classification/        # æµ‹è¯•ç”¨ä¾‹
```

### å‰ç«¯

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ materials/
â”‚   â”‚       â”œâ”€â”€ ClassificationPanel.vue      # åˆ†ç±»é¢æ¿
â”‚   â”‚       â””â”€â”€ TagSuggestions.vue           # æ ‡ç­¾æ¨è
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ teacher/
â”‚   â”‚       â””â”€â”€ MaterialUpload.vue           # ä¸Šä¼ é¡µé¢
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ classificationController.ts      # APIè°ƒç”¨
```

---

## ğŸ”Œ API ç«¯ç‚¹

### åˆ†ç±»åˆ†æ

```bash
POST /api/v1/materials/{materialId}/classify

# è¯·æ±‚
Authorization: Bearer {token}

# å“åº”
{
  "code": 200,
  "message": "åˆ†ç±»åˆ†æå®Œæˆ",
  "data": {
    "materialId": 123,
    "suggestedCategoryId": 5,
    "suggestedCategoryName": "æ•°å­¦",
    "confidence": 0.85,
    "shouldAutoApply": true,
    "keywords": [{"keyword": "å¾®ç§¯åˆ†", "weight": 0.92}],
    "logId": 42
  }
}
```

### è·å–å…³é”®è¯

```bash
GET /api/v1/materials/{materialId}/keywords?topN=10

# å“åº”
{
  "code": 200,
  "message": "è·å–å…³é”®è¯æˆåŠŸ",
  "data": [
    {"keyword": "å¾®ç§¯åˆ†", "weight": 0.92},
    {"keyword": "å¯¼æ•°", "weight": 0.88}
  ]
}
```

### è·å–æ ‡ç­¾å»ºè®®

```bash
POST /api/v1/materials/{materialId}/suggest-tags

# å“åº”
{
  "code": 200,
  "message": "è·å–æ ‡ç­¾å»ºè®®æˆåŠŸ",
  "data": [
    {
      "tagName": "å¾®ç§¯åˆ†",
      "tagId": 10,
      "isExisting": true,
      "relevance": 0.92
    }
  ]
}
```

### æ¥å—/æ‹’ç»åˆ†ç±»

```bash
# æ¥å—
POST /api/v1/materials/classification-logs/{logId}/accept

# æ‹’ç»
POST /api/v1/materials/classification-logs/{logId}/reject

# å“åº”
{
  "code": 200,
  "message": "å·²æ¥å—åˆ†ç±»å»ºè®®"
}
```

---

## ğŸ¨ å‰ç«¯ç»„ä»¶ä½¿ç”¨

### ClassificationPanel

```vue
<template>
  <ClassificationPanel
    :material-id="123"
    :auto-analyze="true"
    @classified="handleClassified"
    @accepted="handleAccepted"
  />
</template>

<script setup>
const handleClassified = (result) => {
  console.log("åˆ†ç±»å®Œæˆ:", result);
};

const handleAccepted = (categoryId) => {
  console.log("å·²æ¥å—åˆ†ç±»:", categoryId);
};
</script>
```

### TagSuggestions

```vue
<template>
  <TagSuggestions
    :material-id="123"
    v-model:selected-tags="tags"
    :auto-load="true"
    @select="handleSelect"
  />
</template>

<script setup>
const tags = ref([]);

const handleSelect = (suggestion) => {
  console.log("é€‰ä¸­æ ‡ç­¾:", suggestion.tagName);
};
</script>
```

---

## ğŸ“Š ç½®ä¿¡åº¦é˜ˆå€¼

| ç½®ä¿¡åº¦  | è¡Œä¸º     | è¯´æ˜                     |
| ------- | -------- | ------------------------ |
| > 0.7   | è‡ªåŠ¨åº”ç”¨ | é«˜ç½®ä¿¡åº¦ï¼Œç›´æ¥åº”ç”¨åˆ†ç±»   |
| 0.5-0.7 | éœ€è¦ç¡®è®¤ | ä¸­ç­‰ç½®ä¿¡åº¦ï¼Œéœ€è¦ç”¨æˆ·ç¡®è®¤ |
| < 0.5   | ä¸å»ºè®®   | ä½ç½®ä¿¡åº¦ï¼Œä¸æä¾›åˆ†ç±»å»ºè®® |

---

## ğŸ” å…³é”®è¯æƒé‡

| æƒé‡èŒƒå›´ | é¢œè‰² | è¯´æ˜         |
| -------- | ---- | ------------ |
| > 0.3    | è“è‰² | é«˜æƒé‡å…³é”®è¯ |
| 0.15-0.3 | é’è‰² | ä¸­æƒé‡å…³é”®è¯ |
| < 0.15   | ç°è‰² | ä½æƒé‡å…³é”®è¯ |

---

## ğŸ·ï¸ æ ‡ç­¾ç±»å‹

| ç±»å‹     | å›¾æ ‡ | è¯´æ˜               |
| -------- | ---- | ------------------ |
| ç°æœ‰æ ‡ç­¾ | ğŸ·ï¸   | ç³»ç»Ÿä¸­å·²å­˜åœ¨çš„æ ‡ç­¾ |
| æ–°å»ºè®®   | â•   | ç³»ç»Ÿå»ºè®®çš„æ–°æ ‡ç­¾   |
| å·²é€‰ä¸­   | â˜‘ï¸   | ç”¨æˆ·å·²é€‰ä¸­çš„æ ‡ç­¾   |

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

### æµ‹è¯•ç»Ÿè®¡

- **æ€»æµ‹è¯•æ•°**: 19
- **é€šè¿‡ç‡**: 100%
- **è¦†ç›–ç‡**: 100%

### å±æ€§æµ‹è¯•

| å±æ€§    | éªŒè¯å†…å®¹                 | çŠ¶æ€ |
| ------- | ------------------------ | ---- |
| å±æ€§ 1  | æ–‡æ¡£è§£æå¾€è¿”ä¸€è‡´æ€§       | âœ…   |
| å±æ€§ 2  | è§£æç»“æœåºåˆ—åŒ–å¾€è¿”ä¸€è‡´æ€§ | âœ…   |
| å±æ€§ 3  | å…³é”®è¯æƒé‡æœ‰æ•ˆæ€§         | âœ…   |
| å±æ€§ 4  | å…³é”®è¯æ•°é‡é™åˆ¶           | âœ…   |
| å±æ€§ 5  | åœç”¨è¯è¿‡æ»¤               | âœ…   |
| å±æ€§ 6  | ç½®ä¿¡åº¦èŒƒå›´               | âœ…   |
| å±æ€§ 7  | é«˜ç½®ä¿¡åº¦è‡ªåŠ¨åº”ç”¨         | âœ…   |
| å±æ€§ 8  | ä¸­ç­‰ç½®ä¿¡åº¦éœ€è¦ç¡®è®¤       | âœ…   |
| å±æ€§ 9  | ä½ç½®ä¿¡åº¦ä¸å»ºè®®           | âœ…   |
| å±æ€§ 10 | æ ‡ç­¾æ•°é‡é™åˆ¶             | âœ…   |
| å±æ€§ 11 | API é”™è¯¯å“åº”æ ¼å¼         | âœ…   |

---

## âš™ï¸ é…ç½®å‚æ•°

### å…³é”®è¯æå–

```python
# é»˜è®¤å‚æ•°
top_n = 10              # æå–å…³é”®è¯æ•°é‡
stop_words_path = None  # åœç”¨è¯è¡¨è·¯å¾„
```

### åˆ†ç±»é¢„æµ‹

```python
# é»˜è®¤å‚æ•°
model_path = None       # æ¨¡å‹è·¯å¾„
confidence_threshold_high = 0.7    # é«˜ç½®ä¿¡åº¦é˜ˆå€¼
confidence_threshold_low = 0.5     # ä½ç½®ä¿¡åº¦é˜ˆå€¼
```

### æ ‡ç­¾æ¨è

```python
# é»˜è®¤å‚æ•°
max_tags = 5            # æœ€å¤šæ¨èæ ‡ç­¾æ•°
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: åˆ†ç±»å‡†ç¡®ç‡ä¸é«˜æ€ä¹ˆåŠï¼Ÿ

**A:**

1. æ£€æŸ¥è®­ç»ƒæ•°æ®æ˜¯å¦å……åˆ†ï¼ˆæ¯ä¸ªåˆ†ç±»è‡³å°‘ 10 ä¸ªæ ·æœ¬ï¼‰
2. æ‹’ç»ä¸å‡†ç¡®çš„å»ºè®®ï¼Œå¸®åŠ©ç³»ç»Ÿå­¦ä¹ 
3. å®šæœŸé‡æ–°è®­ç»ƒæ¨¡å‹
4. è€ƒè™‘ä½¿ç”¨æ›´å¤æ‚çš„åˆ†ç±»ç®—æ³•

### Q: å…³é”®è¯æå–ä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ

**A:**

1. æ£€æŸ¥åœç”¨è¯è¡¨æ˜¯å¦å®Œæ•´
2. è°ƒæ•´ TF-IDF å‚æ•°
3. ä½¿ç”¨è‡ªå®šä¹‰è¯å…¸
4. è€ƒè™‘ä½¿ç”¨ TextRank ç®—æ³•

### Q: æ ‡ç­¾æ¨èä¸ç›¸å…³æ€ä¹ˆåŠï¼Ÿ

**A:**

1. æ£€æŸ¥ç°æœ‰æ ‡ç­¾åº“æ˜¯å¦å®Œæ•´
2. æ·»åŠ æ›´å¤šè®­ç»ƒæ•°æ®
3. è°ƒæ•´ç›¸å…³åº¦è®¡ç®—æ–¹æ³•
4. æ‰‹åŠ¨æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾

### Q: æ€§èƒ½å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

**A:**

1. å¯ç”¨æ¨¡å‹ç¼“å­˜
2. ä½¿ç”¨å¼‚æ­¥å¤„ç†
3. ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
4. è€ƒè™‘ä½¿ç”¨ Redis ç¼“å­˜

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

| æ“ä½œ           | å¹³å‡æ—¶é—´       | æœ€å¤§æ—¶é—´ |
| -------------- | -------------- | -------- |
| æ–‡æ¡£è§£æ       | 200-500ms      | 2s       |
| å…³é”®è¯æå–     | 100-300ms      | 1s       |
| åˆ†ç±»é¢„æµ‹       | 50-150ms       | 500ms    |
| æ ‡ç­¾æ¨è       | 50-100ms       | 300ms    |
| **æ€»å¤„ç†æ—¶é—´** | **400-1050ms** | **3.8s** |

---

## ğŸ” å®‰å…¨æ€§

- âœ… æ‰€æœ‰ API ç«¯ç‚¹éƒ½éœ€è¦è®¤è¯
- âœ… æ–‡ä»¶ä¸Šä¼ æœ‰å¤§å°é™åˆ¶ (100MB)
- âœ… æ”¯æŒçš„æ–‡ä»¶ç±»å‹ç™½åå•
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- âœ… SQL æ³¨å…¥é˜²æŠ¤
- âœ… XSS é˜²æŠ¤

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£        | è¯´æ˜         |
| ----------- | ------------ |
| éœ€æ±‚æ–‡æ¡£.md | åŠŸèƒ½éœ€æ±‚æ–‡æ¡£ |
| è®¾è®¡æ–‡æ¡£.md | ç³»ç»Ÿè®¾è®¡æ–‡æ¡£ |
| å®ç°ä»»åŠ¡.md | å®ç°ä»»åŠ¡æ¸…å• |
| å®Œæˆæ€»ç»“.md | å®Œæˆæ€»ç»“     |
| å‰ç«¯å±•ç¤º.md | å‰ç«¯åŠŸèƒ½å±•ç¤º |

---

## ğŸ“ å­¦ä¹ èµ„æº

### åç«¯

- Jieba åˆ†è¯: https://github.com/fxsjy/jieba
- scikit-learn: https://scikit-learn.org/
- Flask-OpenAPI3: https://github.com/luolingchun/flask-openapi3

### å‰ç«¯

- Vue 3: https://vuejs.org/
- Ant Design Vue: https://www.antdv.com/
- axios: https://axios-http.com/

### æµ‹è¯•

- pytest: https://pytest.org/
- hypothesis: https://hypothesis.readthedocs.io/

---

## ğŸš€ ä¸‹ä¸€æ­¥

### çŸ­æœŸ (1-2 å‘¨)

- [ ] ä¼˜åŒ–åˆ†ç±»å‡†ç¡®ç‡
- [ ] æ·»åŠ æ›´å¤šæ–‡ä»¶æ ¼å¼æ”¯æŒ
- [ ] æ€§èƒ½ä¼˜åŒ–

### ä¸­æœŸ (1 ä¸ªæœˆ)

- [ ] é›†æˆ Elasticsearch å…¨æ–‡æœç´¢
- [ ] å®ç°åœ¨çº¿å­¦ä¹ 
- [ ] æ·»åŠ ç”¨æˆ·åé¦ˆæœºåˆ¶

### é•¿æœŸ (3 ä¸ªæœˆ)

- [ ] ä½¿ç”¨é¢„è®­ç»ƒ BERT æ¨¡å‹
- [ ] æ”¯æŒå¤šè¯­è¨€
- [ ] å®ç°ä¸ªæ€§åŒ–æ¨è

---

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ“§ Email: support@example.com
- ğŸ’¬ Issues: https://github.com/example/issues
- ğŸ“– Wiki: https://github.com/example/wiki

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°**: 2025 å¹´ 12 æœˆ 9 æ—¥  
**ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: âœ… å®Œæˆ
